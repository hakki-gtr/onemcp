activations:
  - role: user
    activation: fix-compilation
    content: |
      Need your help to fix the compilation errors on the following snippet.
      
      ```java
      
        {{ snippet | raw }}
      
      ```
      
      ---
      
      ** REPORTED ERRORS **:
      
      ```md
      
        {{ errors | raw }}
      
      ```
            
      ** Constraints **:
      
      * The provided snippet must be **fully compilable Java code**.    
      * Reply with the complete fixed snippet.
      
      
      ** VERY IMPORTANT **:
      
      {% if mode == 'TEMPLATE' %}
      The response **MUST** comply with the following **FORMAT**:
      
      {{ typeTemplate | raw }}
      {% else %}
      Once you are done with the reasoning, you **MUST** call the Tool / Function named `StepImplementation` to share the generated snippet, qualified class name and the reasoning behind it.
      {% endif %}

  - role: user
    activation: fix-compilation-retry
    content: |
      The provided message does not comply with the expected format.
      
      ** VERY IMPORTANT **:
      
      {% if mode == 'TEMPLATE' %}
      The response **MUST** comply with the following **FORMAT**:
      
      {{ typeTemplate | raw }}
      {% else %}
      Once you are done with the reasoning, you **MUST** call the Tool / Function named `StepImplementation` to share the generated snippet, qualified class name and the reasoning behind it.
      {% endif %}
